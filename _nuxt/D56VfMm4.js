import{_ as i,C as n,o as a,c,a as d,F as u,y as h,b as g,w as p,d as P,t as f,D as m}from"./Nvg1zAJf.js";const _={class:"breacrumbs-nav","aria-label":"Breadcrumbs"},y={__name:"breadcrumb",props:{breadcrumbs:{type:Array,required:!0}},setup(t){return(s,e)=>{const r=n("router-link");return a(),c("nav",_,[d("ul",null,[(a(!0),c(u,null,h(t.breadcrumbs,(o,l)=>(a(),c("li",{key:l},[g(r,{to:o.to},{default:p(()=>[P(f(o.name),1)]),_:2},1032,["to"])]))),128))])])}}},w=i(y,[["__scopeId","data-v-defb9af7"]]),b=m("product",{state:()=>({products:[],allProducts:[],filteredProducts:[],totalProducts:0,pageSize:8,currentPage:1,allCategories:[]}),actions:{async fetchAllProducts(){try{const s=await(await fetch("https://dummyjson.com/products?limit=0")).json();this.allProducts=s.products.map(e=>({...e,slug:this.generateSlug(e.title)})),this.filteredProducts=this.allProducts,this.updateCategories(this.allProducts),console.log("Fetched All Products:",this.allProducts.length),console.log("Categories:",this.allCategories)}catch(t){console.error("Error fetching all products:",t)}},async fetchProducts(t=1,s=this.pageSize){try{const r=await(await fetch(`https://dummyjson.com/products?skip=${(t-1)*s}&limit=${s}&delay=1000`)).json();this.products=r.products.map(o=>({...o,slug:this.generateSlug(o.title)})),this.totalProducts=r.total,this.currentPage=t,console.log("Fetched Products for Page:",this.products)}catch(e){console.error("Error fetching products for page:",e)}},getProductById(t){console.log("Looking for product with ID:",t),console.log("All Products:",this.allProducts);const s=this.allProducts.find(e=>e.id===parseInt(t));return console.log("Matched Product:",s),s},filterProducts(t){if(!t)this.filteredProducts=this.allProducts;else{const s=t.toLowerCase();this.filteredProducts=this.allProducts.filter(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.category.toLowerCase().includes(s))}console.log("Filtered Products:",this.filteredProducts)},updateCategories(t){const s=t.map(e=>e.category).filter((e,r,o)=>o.indexOf(e)===r);this.allCategories=s},generateSlug(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}},getters:{totalPages(){return Math.ceil(this.totalProducts/this.pageSize)}}});export{w as _,b as u};
