import{u as v,_ as b}from"./BZdOtPnW.js";import{_ as p,o as s,c,b as g,w as C,a as o,t as i,e as k,F as f,p as $,r as m,x,y as S,B,C as w,n as _,q as I}from"./DO-nyNcs.js";const N={class:"product-item"},q={class:"product-image-wrapper"},L=["src"],V={class:"product-category"},F={class:"product-title"},A={class:"product-price"},D={class:"product-rating"},M={__name:"productcard",props:{product:{type:Object,required:!0}},setup(e){return(t,r)=>{const a=k;return s(),c("div",N,[g(a,{to:`/product/${e.product.slug}-${e.product.id}`},{default:C(()=>[o("div",q,[o("img",{src:e.product.image||"https://picsum.photos/250",alt:"Product image",loading:"lazy"},null,8,L),o("div",V,i(e.product.category),1)]),o("h2",F,i(e.product.title),1),o("div",A,"Price: $"+i(e.product.price),1),o("div",D,"Rating: "+i(e.product.rating),1)]),_:1},8,["to"])])}}},j=p(M,[["__scopeId","data-v-494e80d8"]]),z={class:"pagination"},E=["disabled"],H=["disabled"],O={__name:"pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["page-change"],setup(e,{emit:t}){const r=t,a=n=>{r("page-change",n)};return(n,u)=>(s(),c("div",z,[o("button",{onClick:u[0]||(u[0]=d=>a(e.currentPage-1)),disabled:e.currentPage<=1},"‹ Previous",8,E),o("span",null,i(e.currentPage)+" / "+i(e.totalPages),1),o("button",{onClick:u[1]||(u[1]=d=>a(e.currentPage+1)),disabled:e.currentPage>=e.totalPages},"Next ›",8,H)]))}},Q=p(O,[["__scopeId","data-v-85af1125"]]),R={class:"loading-state"},T={__name:"loader",props:{message:{type:String,default:"Loading..."}},setup(e){return(t,r)=>(s(),c("div",R,[o("p",null,i(e.message),1)]))}},U=p(T,[["__scopeId","data-v-959a13d0"]]),Z={class:"product-filtering"},G=["onClick"],J={__name:"productfiltering",props:{categories:{type:Array,required:!0}},emits:["category-select"],setup(e,{emit:t}){const r=t,a=n=>{r("category-select",n)};return(n,u)=>(s(),c("div",Z,[o("ul",null,[(s(!0),c(f,null,$(e.categories,d=>(s(),c("li",{key:d,onClick:l=>a(d)},i(d),9,G))),128))])]))}},K=p(J,[["__scopeId","data-v-3e344089"]]),W={class:"search-wrapper"},X={__name:"productsearchbar",setup(e){const t=m(""),r=v(),a=()=>{r.filterProducts(t.value)},n=()=>{t.value="",r.filterProducts("")};return(u,d)=>(s(),c("div",W,[x(o("input",{"onUpdate:modelValue":d[0]||(d[0]=l=>t.value=l),onInput:a,placeholder:"Zoek een product"},null,544),[[S,t.value]]),o("button",{onClick:n,class:"update-filtering"},"Clear")]))}},Y=p(X,[["__scopeId","data-v-70f221fb"]]),tt={class:"page-content"},et={class:"container"},ot={key:0},st={key:1,class:"product-list"},ct={key:2,class:"product-list-error"},at={__name:"products",setup(e){const t=v(),r=m([{name:"Home",to:"/"},{name:"Products",to:"/products"}]),a=m(!0),n=m([]);B(async()=>{await t.fetchAllProducts(),n.value=t.allCategories||[],await t.fetchProducts(1),a.value=!1,console.log("Categories:",n.value)});const u=l=>{t.fetchProducts(l)},d=l=>{t.fetchProducts(1)};return(l,h)=>{const y=b;return s(),c("section",tt,[o("div",et,[g(y,{breadcrumbs:r.value},null,8,["breadcrumbs"]),a.value?(s(),c("div",ot,[g(U,{message:"Loading products..."})])):w("",!0),g(K,{categories:_(t).allCategories,onCategorySelect:d},null,8,["categories"]),g(Y),_(t).filteredProducts&&_(t).filteredProducts.length?(s(),c("div",st,[(s(!0),c(f,null,$(_(t).filteredProducts,P=>(s(),I(j,{key:P.id,product:P},null,8,["product"]))),128))])):(s(),c("div",ct,h[0]||(h[0]=[o("p",null,"No products found.",-1)]))),g(Q,{currentPage:_(t).currentPage,totalPages:_(t).totalPages,onPageChange:u},null,8,["currentPage","totalPages"])])])}}},dt=p(at,[["__scopeId","data-v-e2902c44"]]);export{dt as default};
