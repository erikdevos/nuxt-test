import{u as y,_ as b}from"./97E6tqoQ.js";import{_,o as s,c,b as g,w as C,a as o,t as n,e as k,F as v,y as f,r as m,x,z as B,A as l,B as N}from"./AsCMyQkx.js";const w={class:"product-item"},I={class:"product-image-wrapper"},S=["src"],q={class:"product-category"},L={class:"product-title"},A={class:"product-price"},F={class:"product-rating"},V={__name:"productcard",props:{product:{type:Object,required:!0}},setup(t){return(e,d)=>{const a=k;return s(),c("div",w,[g(a,{to:`/product/${t.product.slug}-${t.product.id}`},{default:C(()=>[o("div",I,[o("img",{src:t.product.image||"https://picsum.photos/250",alt:"Product image"},null,8,S),o("div",q,n(t.product.category),1)]),o("h2",L,n(t.product.title),1),o("div",A,"Price: $"+n(t.product.price),1),o("div",F,"Rating: "+n(t.product.rating),1)]),_:1},8,["to"])])}}},j=_(V,[["__scopeId","data-v-5254a11d"]]),z={class:"pagination"},D=["disabled"],E=["disabled"],H={__name:"pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["page-change"],setup(t,{emit:e}){const d=e,a=r=>{d("page-change",r)};return(r,u)=>(s(),c("div",z,[o("button",{onClick:u[0]||(u[0]=i=>a(t.currentPage-1)),disabled:t.currentPage<=1},"‹ Previous",8,D),o("span",null,n(t.currentPage)+" / "+n(t.totalPages),1),o("button",{onClick:u[1]||(u[1]=i=>a(t.currentPage+1)),disabled:t.currentPage>=t.totalPages},"Next ›",8,E)]))}},M=_(H,[["__scopeId","data-v-85af1125"]]),O={class:"loading-state"},R={__name:"loader",props:{message:{type:String,default:"Loading..."}},setup(t){return(e,d)=>(s(),c("div",O,[o("p",null,n(t.message),1)]))}},G=_(R,[["__scopeId","data-v-959a13d0"]]),J={class:"product-filtering"},K=["onClick"],Q={__name:"productfiltering",props:{categories:{type:Array,required:!0}},emits:["category-select"],setup(t,{emit:e}){const d=e,a=r=>{d("category-select",r)};return(r,u)=>(s(),c("div",J,[o("ul",null,[(s(!0),c(v,null,f(t.categories,i=>(s(),c("li",{key:i,onClick:p=>a(i)},n(i),9,K))),128))])]))}},T=_(Q,[["__scopeId","data-v-9d069ed0"]]),U={class:"page-content"},W={class:"container"},X={key:0},Y={key:1,class:"product-list"},Z={key:2},tt={__name:"products",setup(t){const e=y(),d=m([{name:"Home",to:"/"},{name:"Products",to:"/products"}]),a=m(!0),r=m([]);x(async()=>{await e.fetchAllProducts(),r.value=e.allCategories||[],await e.fetchProducts(1),a.value=!1,console.log("Categories:",r.value)});const u=p=>{e.fetchProducts(p)},i=p=>{e.fetchProducts(1)};return(p,h)=>{const $=b;return s(),c("section",U,[o("div",W,[g($,{breadcrumbs:d.value},null,8,["breadcrumbs"]),a.value?(s(),c("div",X,[g(G,{message:"Loading products..."})])):B("",!0),g(T,{categories:l(e).allCategories,onCategorySelect:i},null,8,["categories"]),l(e).products&&l(e).products.length?(s(),c("div",Y,[(s(!0),c(v,null,f(l(e).products,P=>(s(),N(j,{key:P.id,product:P},null,8,["product"]))),128))])):(s(),c("div",Z,h[0]||(h[0]=[o("p",null,"No products found.",-1)]))),g(M,{currentPage:l(e).currentPage,totalPages:l(e).totalPages,onPageChange:u},null,8,["currentPage","totalPages"])])])}}},st=_(tt,[["__scopeId","data-v-20bad88c"]]);export{st as default};
