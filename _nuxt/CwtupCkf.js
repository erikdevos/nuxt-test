import{u as h,_ as b}from"./CD8o9ytk.js";import{_ as P,u as y,s as k,r as c,x,c as r,a as o,b as B,t as e,o as n}from"./OsvMvjb0.js";const S={class:"page-content"},w={class:"container"},C={key:0,class:"product-wrapper"},D={class:"product-info"},I={class:"product-label"},M={class:"product-price"},$=["src"],N={key:1},T={__name:"[slug]-[id]",setup(A){const _=y(),d=Number(_.params.id.split("-").pop()),l=h(),v=k(),t=c(null),i=c(""),s=c(null),p=c([{name:"Home",to:"/"},{name:"Products",to:"/products"},{name:"Loading...",to:"#"}]),m=async()=>{l.allProducts.length===0&&(console.log("Fetching all products..."),await l.fetchAllProducts()),console.log("Looking for product with ID:",d),t.value=l.getProductById(d),console.log("Matched Product:",t.value),t.value&&(p.value[2]={name:t.value.title,to:`/product/${t.value.slug}-${t.value.id}`})};function g(u){v.addToCart(u),i.value=`"${u.title}" has been added to your cart.`,s.value&&(s.value.showModal(),setTimeout(()=>s.value.close(),2e3))}return x(()=>{m()}),(u,a)=>{const f=b;return n(),r("section",S,[o("div",w,[B(f,{breadcrumbs:p.value},null,8,["breadcrumbs"]),t.value?(n(),r("div",C,[o("div",D,[o("h1",null,e(t.value.title),1),o("div",I,e(t.value.category),1),o("p",null,e(t.value.description),1),o("div",M,"â‚¬"+e(t.value.price),1),o("button",{onClick:a[0]||(a[0]=L=>g(t.value)),class:"btn pos"},"Add to cart")]),o("img",{class:"product-image",src:t.value.image||"https://picsum.photos/300",alt:"Product image"},null,8,$)])):(n(),r("div",N,a[1]||(a[1]=[o("p",null,"Product not found.",-1)]))),o("dialog",{ref_key:"cartDialog",ref:s,class:"cart-dialog"},[o("p",null,e(i.value),1)],512)])])}}},F=P(T,[["__scopeId","data-v-84f01785"]]);export{F as default};
