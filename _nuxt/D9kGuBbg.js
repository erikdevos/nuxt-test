import{u as h,_ as b}from"./CrW87cyL.js";import{_ as P,A as y,u as k,r as c,B,c as n,a as o,b as S,t as e,o as u}from"./MnO-mpG0.js";const w={class:"page-content"},x={class:"container"},C={key:0,class:"product-wrapper"},D={class:"product-info"},I={class:"product-label"},M={class:"product-description content-area"},$={class:"product-price"},A=["src"],N={key:1},T={__name:"[slug]-[id]",setup(L){const _=y(),d=Number(_.params.id.split("-").pop()),l=h(),v=k(),t=c(null),i=c(""),s=c(null),p=c([{name:"Home",to:"/"},{name:"Products",to:"/products"},{name:"Loading...",to:"#"}]),m=async()=>{l.allProducts.length===0&&(console.log("Fetching all products..."),await l.fetchAllProducts()),console.log("Looking for product with ID:",d),t.value=l.getProductById(d),console.log("Matched Product:",t.value),t.value&&(p.value[2]={name:t.value.title,to:`/product/${t.value.slug}-${t.value.id}`})};function g(r){v.addToCart(r),i.value=`"${r.title}" has been added to your cart.`,s.value&&(s.value.showModal(),setTimeout(()=>s.value.close(),2e3))}return B(()=>{m()}),(r,a)=>{const f=b;return u(),n("section",w,[o("div",x,[S(f,{breadcrumbs:p.value},null,8,["breadcrumbs"]),t.value?(u(),n("div",C,[o("div",D,[o("h1",null,e(t.value.title),1),o("div",I,e(t.value.category),1),o("div",M,e(t.value.description),1),o("div",$,"â‚¬"+e(t.value.price),1),o("button",{onClick:a[0]||(a[0]=V=>g(t.value)),class:"btn pos"},"Add to cart")]),o("img",{class:"product-image",src:t.value.image||"https://picsum.photos/300",alt:"Product image"},null,8,A)])):(u(),n("div",N,a[1]||(a[1]=[o("p",null,"Product not found.",-1)]))),o("dialog",{ref_key:"cartDialog",ref:s,class:"cart-dialog"},[o("p",null,e(i.value),1)],512)])])}}},H=P(T,[["__scopeId","data-v-cb7596f6"]]);export{H as default};
