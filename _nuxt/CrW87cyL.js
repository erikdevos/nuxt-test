import{_ as i,E as u,o as a,c,a as d,F as n,p as h,b as p,w as g,d as f,t as P,G as m}from"./MnO-mpG0.js";const _={class:"breacrumbs-nav","aria-label":"Breadcrumbs"},C={__name:"breadcrumb",props:{breadcrumbs:{type:Array,required:!0}},setup(t){return(e,s)=>{const o=u("router-link");return a(),c("nav",_,[d("ul",null,[(a(!0),c(n,null,h(t.breadcrumbs,(r,l)=>(a(),c("li",{key:l},[p(o,{to:r.to},{default:g(()=>[f(P(r.name),1)]),_:2},1032,["to"])]))),128))])])}}},y=i(C,[["__scopeId","data-v-11b07a63"]]),b=m("product",{state:()=>({products:[],allProducts:[],filteredProducts:[],totalProducts:0,pageSize:25,currentPage:1,allCategories:[],searchQuery:"",selectedCategory:""}),actions:{async fetchAllProducts(){try{const e=await(await fetch("https://dummyjson.com/products?limit=0")).json();this.allProducts=e.products.map(s=>({...s,slug:this.generateSlug(s.title)})),this.filteredProducts=this.allProducts,this.updateCategories(this.allProducts)}catch(t){console.error("Error fetching all products:",t)}},async fetchProducts(t=1,e=this.pageSize){try{const o=await(await fetch(`https://dummyjson.com/products?skip=${(t-1)*e}&limit=${e}&delay=1000`)).json();this.products=o.products.map(r=>({...r,slug:this.generateSlug(r.title)})),this.totalProducts=o.total,this.currentPage=t}catch(s){console.error("Error fetching products for page:",s)}},filterProducts(t){this.searchQuery=t,t?this.filteredProducts=this.allProducts.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())||e.category.toLowerCase().includes(t.toLowerCase())):(this.filteredProducts=this.allProducts,this.fetchProducts(1))},filterByCategory(t){this.selectedCategory=t,t?this.filteredProducts=this.allProducts.filter(e=>e.category===t):this.filteredProducts=this.allProducts,this.fetchProducts(1)},updateCategories(t){this.allCategories=[...new Set(t.map(e=>e.category))]},generateSlug(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}},getters:{totalPages(){return Math.ceil(this.totalProducts/this.pageSize)}}});export{y as _,b as u};
